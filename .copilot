# Copilot guidance for this repository

# Purpose
This file provides guidance for code suggestions so GitHub Copilot (and humans reading the repository) produce code that follows the project's architecture and conventions.

# High-level architecture
- MVVM for UI projects (ArlaNatureConnect.WinUI)
  - Views: XAML pages and controls.
  - ViewModels: UI-facing presentation logic, located under `src/ArlaNatureConnect.WinUI/.../ViewModels`.
  - Bind only presentation/state and commands in ViewModels; keep UI logic in Views.

- Layered separation
  - Domain (`src/ArlaNatureConnect.Domain`): Entities, value objects, domain-specific types and domain-level exceptions. No external dependencies (pure POCO classes).
  - Core (`src/ArlaNatureConnect.Core`): Business logic interfaces, domain services, application contracts, use-cases, abstractions (e.g. `IRepository<T>`, `IAppMessageService`). Contains logic that coordinates domain entities but does not access infrastructure details.
  - Infrastructure (`src/ArlaNatureConnect.Infrastructure`): Implementations for persistence, network, third-party modules and adapters. Implement Core interfaces here (repositories, external service adapters). Keep external SDKs and EF/ORM specific code inside this project.
  - WinUI (`src/ArlaNatureConnect.WinUI`): Presentation layer. Depends on Core and Domain, not on Infrastructure (use DI to inject infrastructure implementations at startup).

# Dependency rules
- Domain must not depend on Core, Infrastructure or WinUI.
- Core may depend on Domain but must not depend on Infrastructure or WinUI.
- Infrastructure may depend on Core and Domain but not WinUI.
- WinUI may depend on Core and Domain; it receives Infrastructure implementations via DI.

# Naming & locations
- Entities: `src/ArlaNatureConnect.Domain/Entities` namespace `ArlaNatureConnect.Domain.Entities`.
- Interfaces and abstractions: `src/ArlaNatureConnect.Core/Abstract` or `Contracts` namespace `ArlaNatureConnect.Core.Abstract`.
- Repositories implementations: `src/ArlaNatureConnect.Infrastructure/Repositories` namespace `ArlaNatureConnect.Infrastructure.Repositories`.
- ViewModels: `src/ArlaNatureConnect.WinUI/ViewModels` namespace `ArlaNatureConnect.WinUI.ViewModels`.

# Coding conventions
- Prefer explicit type declarations (`int`, `string`, `Farm`) instead of `var` in C# files. See `.editorconfig` rules in repo root.
- Keep methods small and single-responsibility; prefer small, testable functions.
- Use constructor injection for services and repositories in ViewModels and application services.
- Avoid calling infrastructure code directly from Domain or Core. Use interfaces defined in Core and implemented in Infrastructure.

# MVVM guidance
- ViewModels should expose properties (INotifyPropertyChanged) and ICommand implementations (e.g. `RelayCommand`).
- Avoid UI elements or types in ViewModels (no `FrameworkElement`, `Window`, `Page` references).
- Use services (navigation, dialogs, status) injected into ViewModels to interact with the UI or platform.

# Tests
- Unit tests should target Core and Domain and mock Infrastructure via interfaces.
- Integration tests that exercise Infrastructure may live in `tests/...` and reference a test database or in-memory providers.

# Suggestions for Copilot
- When suggesting code for the WinUI project, prefer creating ViewModels, commands, and DI-friendly constructors that take Core abstractions.
- When suggesting repository code, place implementation stubs under Infrastructure and implement interfaces from Core.
- When suggesting domain classes, keep them POCOs with no external dependencies.

# Examples (preferred file placement)
- `src/ArlaNatureConnect.Domain/Entities/Farm.cs`
- `src/ArlaNatureConnect.Core/Abstract/IRepository.cs`
- `src/ArlaNatureConnect.Infrastructure/Repositories/FarmRepository.cs`
- `src/ArlaNatureConnect.WinUI/ViewModels/FarmViewModel.cs`

# Note
This guidance file is a convention document for Copilot suggestions and contributors. It does not alter build behavior.
