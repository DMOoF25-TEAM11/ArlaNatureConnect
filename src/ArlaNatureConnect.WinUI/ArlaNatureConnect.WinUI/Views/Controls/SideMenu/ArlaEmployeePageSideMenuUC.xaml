<?xml version="1.0" encoding="utf-8"?>
<abstracts:SideMenuBaseUC
  x:Class="ArlaNatureConnect.WinUI.Views.Controls.SideMenu.ArlaEmployeePageSideMenuUC"  
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:local="using:ArlaNatureConnect.WinUI.Views.Controls.SideMenu"
  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
  xmlns:sidemenu="using:ArlaNatureConnect.WinUI.ViewModels.Controls.SideMenu" 
  xmlns:abstracts="using:ArlaNatureConnect.WinUI.Views.Controls.Abstracts" 
  d:DataContext="{d:DesignInstance Type=sidemenu:ArlaEmployeePageSideMenuUCViewModel}"
  mc:Ignorable="d">

  <Grid>
    <Grid.RowDefinitions>
      <!-- Logo/Title Section -->
      <RowDefinition Height="Auto" />
      <!-- User Dropdown -->
      <RowDefinition Height="Auto" />
      <!-- Navigation Menu -->
      <RowDefinition Height="*" />
      <!-- Bottom Section -->
      <RowDefinition Height="Auto" />
    </Grid.RowDefinitions>

    <!-- Logo/Title Section -->
    <Border Grid.Row="0" 
            Padding="24,28,24,24"
            BorderBrush="{StaticResource ArlaPrimaryDarkBrush}"
            BorderThickness="0,0,0,2">
      <StackPanel Orientation="Vertical">
        <StackPanel Spacing="20">
          <local:TitleAndLogoSideMenuUC/>
        </StackPanel>
        <!-- User Dropdown -->
        <StackPanel Spacing="12">
          <TextBlock  Text="Medarbejder:" 
                      Foreground="{StaticResource ArlaPrimaryDarkBrush}"
                      FontSize="15"
                      FontWeight="SemiBold"
                      Opacity="0.9"/>
          <ComboBox x:Name="UserComboBox"
                    ItemsSource="{Binding AvailablePersons, Mode=OneWay}"
                    SelectedItem="{Binding SelectedPerson, Mode=TwoWay}"
                    IsEnabled="{Binding IsLoading, Converter={StaticResource InvertBoolConverter}}"
                    Style="{StaticResource ArlaComboBox}"
                    PlaceholderText="Vælg bruger">
            <ComboBox.ItemTemplate>
              <DataTemplate>
                <TextBlock>
                    <Run Text="{Binding FirstName}"/>
                    <Run Text=" "/>
                    <Run Text="{Binding LastName}"/>
                </TextBlock>
              </DataTemplate>
            </ComboBox.ItemTemplate>
          </ComboBox>
        </StackPanel>
      </StackPanel>
    </Border>

    <!-- Navigation Menu -->
    <ItemsControl Grid.Row="2" ItemsSource="{Binding NavItems}">
      <ItemsControl.ItemsPanel>
        <ItemsPanelTemplate>
          <StackPanel Orientation="Vertical" Spacing="12" Padding="20,24" />
        </ItemsPanelTemplate>
      </ItemsControl.ItemsPanel>
      <ItemsControl.ItemTemplate>
        <DataTemplate>
          <Button
            Command="{Binding Command}"
            Content="{Binding Label}"
            Style="{Binding IsSelected, Converter={StaticResource NavButtonStyleSelector}}" />
        </DataTemplate>
      </ItemsControl.ItemTemplate>
    </ItemsControl>

    <!-- Bottom Section -->
    <Border Grid.Row="3" 
                    Padding="24">
      <!-- Can add logout button or other actions here -->
    </Border>
  </Grid>
</abstracts:SideMenuBaseUC>
