# User Story â€“ UC002B.3: Update Nature Check Case Assignment

**As an** Arla employee,  
**I want** to update an existing active Nature Check Case with a new consultant, priority, or notes,  
**so that** I can reassign cases or adjust assignment details without creating duplicate cases.

---

## Acceptance Criteria

1. **Given** I have selected a farm with an active case  
   **When** I modify the consultant, priority, or notes and click "Opdater natur Check opgave"  
   **Then** the existing active Nature Check Case is updated with the new information

2. **Given** I am updating a case  
   **When** I change the consultant  
   **Then** a new notification is created for the new consultant

3. **Given** I am updating a case  
   **When** I change the priority  
   **Then** the priority is stored in English format in the database

4. **Given** I have successfully updated a case  
   **When** the case is updated  
   **Then** the assignment timestamp (AssignedAt) is updated to reflect the modification

5. **Given** I am updating a case  
   **When** the consultant is changed  
   **Then** the old consultant's notification is marked as read or removed

6. **Given** I am updating a case  
   **When** I attempt to update a case that doesn't exist  
   **Then** the system shows an error message

---

## Notes

- This use case updates existing active Nature Check Cases (status "Assigned" or "InProgress")
- The system prevents creating duplicate cases by updating the existing one instead
- Optimistic concurrency control (RowVersion) is used to prevent conflicts
- Notifications are managed when consultant changes


