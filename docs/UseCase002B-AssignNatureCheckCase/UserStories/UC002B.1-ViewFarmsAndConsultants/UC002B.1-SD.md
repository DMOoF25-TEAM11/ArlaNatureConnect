## UC002B.1 – Sequence Diagram: View Farms and Consultants for Assignment

This sequence diagram shows the detailed interaction flow when an Arla employee views farms and consultants, following Larmann's UML conventions.

```mermaid
sequenceDiagram
    title UC002B.1 – Sequence Diagram: View Farms and Consultants for Assignment

    actor ArlaEmployee as Arla Employee
    participant ViewModel as ArlaEmployeeAssignNatureCheckViewModel
    participant Service as NatureCheckCaseService
    participant FarmRepo as IFarmRepository
    participant PersonRepo as IPersonRepository
    participant AddressRepo as IAddressRepository
    participant CaseRepo as INatureCheckCaseRepository
    participant StatusService as IStatusInfoServices

    ArlaEmployee ->>+ ViewModel: InitializeAsync()
    ViewModel ->>+ StatusService: BeginLoading()
    StatusService -->>- ViewModel: IDisposable
    ViewModel ->>+ Service: LoadAssignmentContextAsync()
    
    Service ->>+ FarmRepo: GetAllAsync()
    FarmRepo -->>- Service: List~Farm~
    Service ->>+ PersonRepo: GetAllAsync()
    PersonRepo -->>- Service: List~Person~
    Service ->>+ PersonRepo: GetPersonsByRoleAsync("Consultant")
    PersonRepo -->>- Service: List~Person~
    Service ->>+ AddressRepo: GetAllAsync()
    AddressRepo -->>- Service: List~Address~
    Service ->>+ CaseRepo: GetActiveCasesAsync()
    CaseRepo -->>- Service: IReadOnlyList~NatureCheckCase~
    
    Service ->>+ Service: CreateFarmAssignmentOverviewDto()
    Service -->>- Service: List~FarmAssignmentOverviewDto~
    Service -->>- ViewModel: NatureCheckCaseAssignmentContext
    
    ViewModel ->>+ ViewModel: UpdateFarms(context.Farms)
    ViewModel -->>- ViewModel: void
    ViewModel ->>+ ViewModel: UpdateConsultants(context.Consultants)
    ViewModel -->>- ViewModel: void
    ViewModel ->> StatusService: Dispose()
    ViewModel -->>- ArlaEmployee: void
```

**Notes:**
- All method calls use PascalCase (C# convention).
- All calls have return arrows (including void methods).
- Activation bars show object lifetime using automatic activation/deactivation (+/-).
- This is a read-only operation - no data is modified.
