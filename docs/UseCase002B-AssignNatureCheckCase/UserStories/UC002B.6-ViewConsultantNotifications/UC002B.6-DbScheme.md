## Relational Database Schema â€“ UC002B.6: View Consultant Notifications

### **Stored Procedures for UC002B.6**

#### **usp_GetConsultantNotifications**

**Purpose:** Retrieves all assigned cases for a consultant, sorted by assignment date.

**Parameters:**
- `@ConsultantId` - `uniqueidentifier` - Consultant ID

**Returns:** List of cases with farm information, sorted by AssignedAt

---

#### **usp_Notification_MarkAsRead**

**Purpose:** Marks all notifications for a consultant as read.

**Parameters:**
- `@ConsultantId` - `uniqueidentifier` - Consultant ID

**Logic:**
- Updates IsRead = 1 for all notifications for the consultant

---

### **Business Rules**

1. Cases are sorted by AssignedAt date (newest first)
2. Notifications are marked as read when viewed


