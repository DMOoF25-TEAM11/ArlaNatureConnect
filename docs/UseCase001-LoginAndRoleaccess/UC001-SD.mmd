sequenceDiagram
    title UC01 â€“ Login & Role Access

    actor User
    participant LoginPage as "LoginPage.xaml (View)"
    participant LoginPageViewModel
    participant NavigationHandler
    participant FarmerPage as "FarmerPage.xaml (View)"
    participant FarmerPageViewModel
    participant ConsultantPage as "ConsultantPage.xaml (View)"
    participant ConsultantPageViewModel
    participant ArlaEmployeePage as "ArlaEmployeePage.xaml (View)"
    participant ArlaEmployeePageViewModel

    %% Step 1: Launch
    User ->> LoginPage: LaunchApplication()
    activate LoginPage
    LoginPage -->> User: DisplayRoleButtons()
    deactivate LoginPage

    %% Step 2: Role selection
    User ->> LoginPage: ClickRoleButton(role)
    activate LoginPage
    LoginPage ->> LoginPageViewModel: Execute SelectRoleCommand(role)
    activate LoginPageViewModel
    LoginPageViewModel ->> NavigationHandler: Navigate(pageType, parameter=role)
    activate NavigationHandler

    %% Step 3: Navigation based on role
    alt Role = Farmer
        NavigationHandler ->> FarmerPage: LoadPage()
        activate FarmerPage
        FarmerPage ->> FarmerPageViewModel: Initialize(role)
        activate FarmerPageViewModel
        FarmerPage -->> User: DisplayPersonDropdown()
        User ->> FarmerPage: SelectPerson(person)
        FarmerPage ->> FarmerPageViewModel: Execute ChoosePersonCommand(person)
        FarmerPageViewModel ->> FarmerPageViewModel: ChoosePerson(person)
        FarmerPageViewModel ->> FarmerPage: UpdateDashboard(person)
        FarmerPage -->> User: DisplayPersonSpecificDashboard()
        deactivate FarmerPageViewModel
        deactivate FarmerPage
    else Role = Consultant
        NavigationHandler ->> ConsultantPage: LoadPage()
        activate ConsultantPage
        ConsultantPage ->> ConsultantPageViewModel: Initialize(role)
        activate ConsultantPageViewModel
        ConsultantPage -->> User: DisplayPersonDropdown()
        User ->> ConsultantPage: SelectPerson(person)
        ConsultantPage ->> ConsultantPageViewModel: Execute ChoosePersonCommand(person)
        ConsultantPageViewModel ->> ConsultantPageViewModel: ChoosePerson(person)
        ConsultantPageViewModel ->> ConsultantPage: UpdateDashboard(person)
        ConsultantPage -->> User: DisplayPersonSpecificDashboard()
        deactivate ConsultantPageViewModel
        deactivate ConsultantPage
    else Role = Arla Employee
        NavigationHandler ->> ArlaEmployeePage: LoadPage()
        activate ArlaEmployeePage
        ArlaEmployeePage ->> ArlaEmployeePageViewModel: Initialize(role)
        activate ArlaEmployeePageViewModel
        ArlaEmployeePage -->> User: DisplayEmployeeDashboard()
        deactivate ArlaEmployeePageViewModel
        deactivate ArlaEmployeePage
    end

    deactivate NavigationHandler
    deactivate LoginPageViewModel
    deactivate LoginPage
